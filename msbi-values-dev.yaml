# hostname of the host serving massbank
host: &commonHost msbi.ipb-halle.de
# base path of the public url serving massbank
pathPrefix: &commonPathPrefix MassBank3
# release name of the helm install of massbank3-frontend, required for dbtool
# to identify the hostname of the postgres database
massbankReleaseName: massbank-dev

# postgres settings
# the password for the postgres admin user
postgresPassword: &commonPostgresPassword "massbankAdminPassword"
# the username for the postgres user
username: &commonUsername "massbank"
# the password for the postgres user
password: &commonPassword "massbankPassword"
# the name of the postgres database
database: &commonDatabase "massbank"

HTML_HEAD_FILE: "/html-insert/html-head.html"
HTML_HEAD_FILE_CONTENT: |
  <meta name="google-site-verification" content="o3yPKbs7xQhjmcT8HdNIDFFlIXdkBm2Y8GYJrr3UH6o">
HTML_BODY_FILE: ""
HTML_BODY_FILE_CONTENT: |
DISTRIBUTOR_TEXT: "This website is hosted and distributed by the Leibniz Institute of Plant Biochemistry, Halle (Saale), Germany."
DISTRIBUTOR_URL: "https://www.ipb-halle.de/kontakt/impressum"
MB3_FRONTEND_BROWSER_TAB_TITLE: "MassBank"
MB3_FRONTEND_HOMEPAGE_INTRO_TEXT: "Welcome to MassBank, an open-source mass spectral library for the identification of small chemical molecules of metabolomics, exposomics and environmental relevance."
MB3_FRONTEND_HOMEPAGE_NEWS_SECTION_TEXT: ""
MB3_FRONTEND_HOMEPAGE_FUNDING_SECTION_TEXT: ""
MB3_FRONTEND_HOMEPAGE_ADDITIONAL_SECTION_NAME: ""
MB3_FRONTEND_HOMEPAGE_ADDITIONAL_SECTION_TEXT: ""

volumes:
  - name: html-head
    configMap:
      name : html-head

volumeMounts:
  - name: html-head
    mountPath: /html-insert/html-head.html
    subPath: html-head.html
    readOnly: true

image:
  tag: "dev"
  pullPolicy: Always
resources:
  requests:
    cpu: 1100m
    memory: 400Mi
  limits:
    cpu: 3000m
    memory: 800Mi
autoscaling:
  enabled: true
  minReplicas: 1
  maxReplicas: 4
  targetCPUUtilizationPercentage: 80


# set the values in the dependencies, do not change
massbank-export-api:
  image:
    tag: "dev"
    pullPolicy: Always
  host: *commonHost
  pathPrefix: *commonPathPrefix
  resources:
    requests:
      cpu: 100m
      memory: 3000Mi
    limits:
      cpu: 1000m
      memory: 6000Mi

massbank-api:
  image:
    tag: "dev"
    pullPolicy: Always
  host: *commonHost
  pathPrefix: *commonPathPrefix
  postgresql:
    auth:
      postgresPassword: *commonPostgresPassword
      username: *commonUsername
      password: *commonPassword
      database: *commonDatabase
    primary:
      initdb:
        password: *commonPostgresPassword
  resources:
    requests:
      cpu: 100m
      memory: 200Mi
    limits:
      cpu: 1000m
      memory: 400Mi

  massbank-similarity-api:
    image:
      tag: "dev"
      pullPolicy: Always
    host: *commonHost
    pathPrefix: *commonPathPrefix
    resources:
      requests:
        cpu: 1000m
        memory: 800Mi
      limits:
        cpu: 1500m
        memory: 1600Mi
    autoscaling:
      enabled: true
      minReplicas: 2
      maxReplicas: 8
      targetCPUUtilizationPercentage: 50

